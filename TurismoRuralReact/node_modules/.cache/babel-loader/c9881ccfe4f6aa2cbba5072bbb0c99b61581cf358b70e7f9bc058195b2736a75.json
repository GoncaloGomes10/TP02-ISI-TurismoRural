{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hugo\\\\Desktop\\\\repositorio\\\\TP02-ISI-TurismoRural\\\\TurismoRuralReact\\\\src\\\\Casas\\\\casaadmin.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styles from './casaadmin.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CasasAdmin = () => {\n  _s();\n  const [casas, setCasas] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [erro, setErro] = useState('');\n  const [mensagem, setMensagem] = useState('');\n  const [editingCasa, setEditingCasa] = useState(null); // objeto da casa em edi√ß√£o/cria√ß√£o\n  const [showFormModal, setShowFormModal] = useState(false);\n  const [deleteId, setDeleteId] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [imagemFile, setImagemFile] = useState(null);\n  const [imagemErro, setImagemErro] = useState('');\n  const navigate = useNavigate();\n  const carregarCasas = async () => {\n    setErro('');\n    setMensagem('');\n    try {\n      const resp = await fetch('http://localhost:5211/api/Casas/Casas');\n      if (resp.ok) {\n        const data = await resp.json();\n        setCasas(data);\n      } else {\n        setErro('Erro ao carregar casas.');\n      }\n    } catch (e) {\n      console.error(e);\n      setErro('Erro de conex√£o.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    carregarCasas();\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n    navigate('/');\n  };\n  const goBack = () => navigate('/casas');\n\n  // --------- CRIAR / EDITAR ---------\n\n  const abrirNovaCasa = () => {\n    setEditingCasa({\n      casaID: 0,\n      titulo: '',\n      descricao: '',\n      tipo: 'Moradia',\n      tipologia: 'T1',\n      preco: 0,\n      morada: '',\n      codigoPostal: ''\n    });\n    setImagemFile(null);\n    setImagemErro('');\n    setErro('');\n    setMensagem('');\n    setShowFormModal(true);\n  };\n  const abrirEditarCasa = c => {\n    setEditingCasa({\n      casaID: c.casaID || c.CasaID,\n      titulo: c.titulo || c.Titulo,\n      descricao: c.descricao || c.Descricao,\n      tipo: c.tipo || c.Tipo,\n      tipologia: c.tipologia || c.Tipologia,\n      preco: c.preco || c.Preco,\n      morada: c.morada || c.Morada,\n      codigoPostal: c.codigoPostal || c.CodigoPostal\n    });\n    setImagemFile(null);\n    setImagemErro('');\n    setErro('');\n    setMensagem('');\n    setShowFormModal(true);\n  };\n  const fecharFormModal = () => {\n    setShowFormModal(false);\n    setEditingCasa(null);\n    setImagemFile(null);\n    setImagemErro('');\n  };\n  const onChangeCampo = (campo, valor) => {\n    setEditingCasa(prev => ({\n      ...prev,\n      [campo]: valor\n    }));\n  };\n  const guardarCasa = async () => {\n    if (!editingCasa) return;\n    setErro('');\n    setMensagem('');\n    setImagemErro('');\n    const token = localStorage.getItem('accessToken');\n    const body = {\n      titulo: editingCasa.titulo,\n      descricao: editingCasa.descricao,\n      tipo: editingCasa.tipo,\n      tipologia: editingCasa.tipologia,\n      preco: Number(editingCasa.preco),\n      morada: editingCasa.morada,\n      codigoPostal: editingCasa.codigoPostal\n    };\n    const isNovo = !editingCasa.casaID;\n    const url = isNovo ? 'http://localhost:5211/api/Casas/CriarCasa' : `http://localhost:5211/api/Casas/EditarCasa/${editingCasa.casaID}`;\n    const method = isNovo ? 'POST' : 'PUT';\n    try {\n      const resp = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      });\n      if (!resp.ok) {\n        const text = await resp.text();\n        setErro(text || 'Erro ao guardar casa.');\n        return;\n      }\n      setMensagem(isNovo ? 'Casa criada com sucesso.' : 'Casa editada com sucesso.');\n\n      // recarregar lista para garantir que temos os dados atualizados\n      await carregarCasas();\n\n      // obter id da casa para upload da imagem\n      let casaIdParaImagem = editingCasa.casaID;\n      if (isNovo) {\n        // tentativa simples: encontrar a casa pela combina√ß√£o t√≠tulo+morada e maior ID\n        const encontradas = casas.filter(c => (c.titulo || c.Titulo) === editingCasa.titulo && (c.morada || c.Morada) === editingCasa.morada);\n        if (encontradas.length > 0) {\n          const ultima = encontradas.sort((a, b) => (b.casaID || b.CasaID) - (a.casaID || a.CasaID))[0];\n          casaIdParaImagem = ultima.casaID || ultima.CasaID;\n        }\n      }\n\n      // se tiver ficheiro e tivermos id da casa, tentar upload\n      if (imagemFile && casaIdParaImagem) {\n        try {\n          const formData = new FormData();\n          formData.append('file', imagemFile);\n\n          // ajusta o endpoint se o teu controller estiver noutro route\n          const respImg = await fetch(`http://localhost:5211/api/Casa_Img/upload/${casaIdParaImagem}`, {\n            method: 'POST',\n            headers: {\n              'Authorization': `Bearer ${token}`\n            },\n            body: formData\n          });\n          if (!respImg.ok) {\n            const textImg = await respImg.text();\n            setImagemErro(textImg || 'Casa guardada, mas falhou o upload da imagem.');\n          } else {\n            setMensagem(prev => prev ? prev + ' Imagem enviada com sucesso.' : 'Imagem enviada com sucesso.');\n          }\n        } catch (e) {\n          console.error(e);\n          setImagemErro('Casa guardada, mas houve erro de conex√£o ao enviar a imagem.');\n        }\n      }\n      fecharFormModal();\n      await carregarCasas();\n    } catch (e) {\n      console.error(e);\n      setErro('Erro de conex√£o.');\n    }\n  };\n\n  // --------- APAGAR ---------\n\n  const abrirDeleteCasa = id => {\n    setDeleteId(id);\n    setErro('');\n    setMensagem('');\n    setShowDeleteModal(true);\n  };\n  const fecharDeleteModal = () => {\n    setShowDeleteModal(false);\n    setDeleteId(null);\n  };\n  const confirmarApagarCasa = async () => {\n    if (!deleteId) return;\n    setErro('');\n    setMensagem('');\n    try {\n      const token = localStorage.getItem('accessToken');\n      const resp = await fetch(`http://localhost:5211/api/Casas/DeleteCasa/${deleteId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const text = await resp.text();\n      if (resp.ok) {\n        setMensagem(text || 'Casa apagada com sucesso.');\n        fecharDeleteModal();\n        await carregarCasas();\n      } else {\n        setErro(text || 'Erro ao apagar casa.');\n      }\n    } catch (e) {\n      console.error(e);\n      setErro('Erro de conex√£o.');\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: styles.main,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"A carregar casas...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: styles.header,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.headerContent,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.logo,\n          onClick: () => navigate('/'),\n          style: {\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.logoIcon,\n            children: \"\\uD83C\\uDFD5\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.logoText,\n            children: \"Turismo Rural\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.logoutButton,\n          onClick: handleLogout,\n          children: \"Sair\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.title,\n        children: \"Gest\\xE3o de casas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), mensagem && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.messageSuccess,\n        children: mensagem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 22\n      }, this), erro && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.error,\n        children: erro\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.buttonContainer,\n        style: {\n          marginBottom: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `${styles.button} ${styles.buttonPrimary}`,\n          onClick: abrirNovaCasa,\n          children: \"Nova casa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `${styles.button} ${styles.buttonSecondary}`,\n          onClick: goBack,\n          children: \"Voltar \\xE0s casas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.grid,\n        children: casas.map(c => {\n          const id = c.casaID || c.CasaID;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.card,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: styles.cardTitle,\n              children: c.titulo || c.Titulo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.cardAddress,\n              children: c.morada || c.Morada\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.cardDesc,\n              children: [c.tipo || c.Tipo, \" \", c.tipologia || c.Tipologia, \" - \", c.preco || c.Preco, \" \\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.buttonContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `${styles.button} ${styles.buttonSecondary}`,\n                onClick: () => abrirEditarCasa(c),\n                children: \"Editar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `${styles.button} ${styles.buttonSecondary}`,\n                onClick: () => abrirDeleteCasa(id),\n                children: \"Apagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), showFormModal && editingCasa && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.modalOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.modal,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.modalTitle,\n          children: editingCasa.casaID ? 'Editar casa' : 'Nova casa'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"T\\xEDtulo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editingCasa.titulo,\n            onChange: e => onChangeCampo('titulo', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            rows: \"3\",\n            value: editingCasa.descricao,\n            onChange: e => onChangeCampo('descricao', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tipo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: editingCasa.tipo,\n            onChange: e => onChangeCampo('tipo', e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Moradia\",\n              children: \"Moradia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Apartamento\",\n              children: \"Apartamento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tipologia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: editingCasa.tipologia,\n            onChange: e => onChangeCampo('tipologia', e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"T1\",\n              children: \"T1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"T2\",\n              children: \"T2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"T3\",\n              children: \"T3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"T4\",\n              children: \"T4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Pre\\xE7o por noite (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            value: editingCasa.preco,\n            onChange: e => onChangeCampo('preco', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Morada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editingCasa.morada,\n            onChange: e => onChangeCampo('morada', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"C\\xF3digo Postal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editingCasa.codigoPostal,\n            onChange: e => onChangeCampo('codigoPostal', e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.reservaField,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Imagem (opcional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => setImagemFile(e.target.files[0] || null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), imagemErro && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.error,\n          style: {\n            marginTop: '0.5rem'\n          },\n          children: imagemErro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonContainer,\n          style: {\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `${styles.button} ${styles.buttonPrimary}`,\n            onClick: guardarCasa,\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `${styles.button} ${styles.buttonSecondary}`,\n            onClick: fecharFormModal,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }, this), showDeleteModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.modalOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.modal,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.modalTitle,\n          children: \"Apagar casa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Tem a certeza que pretende apagar esta casa?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonContainer,\n          style: {\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `${styles.button} ${styles.buttonPrimary}`,\n            onClick: confirmarApagarCasa,\n            children: \"Confirmar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `${styles.button} ${styles.buttonSecondary}`,\n            onClick: fecharDeleteModal,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: styles.footer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.footerContent,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.footerText,\n          children: \"\\xA9 2025 Turismo Rural. Descubra Portugal aut\\xEAntico.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n};\n_s(CasasAdmin, \"1oBiJrLuo/nHxCzfStp1Jbzhybc=\", false, function () {\n  return [useNavigate];\n});\n_c = CasasAdmin;\nexport default CasasAdmin;\nvar _c;\n$RefreshReg$(_c, \"CasasAdmin\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","styles","jsxDEV","_jsxDEV","CasasAdmin","_s","casas","setCasas","isLoading","setIsLoading","erro","setErro","mensagem","setMensagem","editingCasa","setEditingCasa","showFormModal","setShowFormModal","deleteId","setDeleteId","showDeleteModal","setShowDeleteModal","imagemFile","setImagemFile","imagemErro","setImagemErro","navigate","carregarCasas","resp","fetch","ok","data","json","e","console","error","handleLogout","localStorage","removeItem","goBack","abrirNovaCasa","casaID","titulo","descricao","tipo","tipologia","preco","morada","codigoPostal","abrirEditarCasa","c","CasaID","Titulo","Descricao","Tipo","Tipologia","Preco","Morada","CodigoPostal","fecharFormModal","onChangeCampo","campo","valor","prev","guardarCasa","token","getItem","body","Number","isNovo","url","method","headers","JSON","stringify","text","casaIdParaImagem","encontradas","filter","length","ultima","sort","a","b","formData","FormData","append","respImg","textImg","abrirDeleteCasa","id","fecharDeleteModal","confirmarApagarCasa","className","container","children","main","fileName","_jsxFileName","lineNumber","columnNumber","header","headerContent","logo","onClick","style","cursor","logoIcon","logoText","logoutButton","title","messageSuccess","buttonContainer","marginBottom","type","button","buttonPrimary","buttonSecondary","grid","map","card","cardTitle","cardAddress","cardDesc","modalOverlay","modal","modalTitle","reservaField","value","onChange","target","rows","min","accept","files","marginTop","footer","footerContent","footerText","_c","$RefreshReg$"],"sources":["C:/Users/Hugo/Desktop/repositorio/TP02-ISI-TurismoRural/TurismoRuralReact/src/Casas/casaadmin.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles from './casaadmin.module.css';\r\n\r\nconst CasasAdmin = () => {\r\n  const [casas, setCasas] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [erro, setErro] = useState('');\r\n  const [mensagem, setMensagem] = useState('');\r\n\r\n  const [editingCasa, setEditingCasa] = useState(null);   // objeto da casa em edi√ß√£o/cria√ß√£o\r\n  const [showFormModal, setShowFormModal] = useState(false);\r\n\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n\r\n  const [imagemFile, setImagemFile] = useState(null);\r\n  const [imagemErro, setImagemErro] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const carregarCasas = async () => {\r\n    setErro('');\r\n    setMensagem('');\r\n    try {\r\n      const resp = await fetch('http://localhost:5211/api/Casas/Casas');\r\n      if (resp.ok) {\r\n        const data = await resp.json();\r\n        setCasas(data);\r\n      } else {\r\n        setErro('Erro ao carregar casas.');\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErro('Erro de conex√£o.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    carregarCasas();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('accessToken');\r\n    localStorage.removeItem('refreshToken');\r\n    navigate('/');\r\n  };\r\n\r\n  const goBack = () => navigate('/casas');\r\n\r\n  // --------- CRIAR / EDITAR ---------\r\n\r\n  const abrirNovaCasa = () => {\r\n    setEditingCasa({\r\n      casaID: 0,\r\n      titulo: '',\r\n      descricao: '',\r\n      tipo: 'Moradia',\r\n      tipologia: 'T1',\r\n      preco: 0,\r\n      morada: '',\r\n      codigoPostal: ''\r\n    });\r\n    setImagemFile(null);\r\n    setImagemErro('');\r\n    setErro('');\r\n    setMensagem('');\r\n    setShowFormModal(true);\r\n  };\r\n\r\n  const abrirEditarCasa = (c) => {\r\n    setEditingCasa({\r\n      casaID: c.casaID || c.CasaID,\r\n      titulo: c.titulo || c.Titulo,\r\n      descricao: c.descricao || c.Descricao,\r\n      tipo: c.tipo || c.Tipo,\r\n      tipologia: c.tipologia || c.Tipologia,\r\n      preco: c.preco || c.Preco,\r\n      morada: c.morada || c.Morada,\r\n      codigoPostal: c.codigoPostal || c.CodigoPostal\r\n    });\r\n    setImagemFile(null);\r\n    setImagemErro('');\r\n    setErro('');\r\n    setMensagem('');\r\n    setShowFormModal(true);\r\n  };\r\n\r\n  const fecharFormModal = () => {\r\n    setShowFormModal(false);\r\n    setEditingCasa(null);\r\n    setImagemFile(null);\r\n    setImagemErro('');\r\n  };\r\n\r\n  const onChangeCampo = (campo, valor) => {\r\n    setEditingCasa(prev => ({ ...prev, [campo]: valor }));\r\n  };\r\n\r\n  const guardarCasa = async () => {\r\n    if (!editingCasa) return;\r\n\r\n    setErro('');\r\n    setMensagem('');\r\n    setImagemErro('');\r\n\r\n    const token = localStorage.getItem('accessToken');\r\n    const body = {\r\n      titulo: editingCasa.titulo,\r\n      descricao: editingCasa.descricao,\r\n      tipo: editingCasa.tipo,\r\n      tipologia: editingCasa.tipologia,\r\n      preco: Number(editingCasa.preco),\r\n      morada: editingCasa.morada,\r\n      codigoPostal: editingCasa.codigoPostal\r\n    };\r\n\r\n    const isNovo = !editingCasa.casaID;\r\n    const url = isNovo\r\n      ? 'http://localhost:5211/api/Casas/CriarCasa'\r\n      : `http://localhost:5211/api/Casas/EditarCasa/${editingCasa.casaID}`;\r\n    const method = isNovo ? 'POST' : 'PUT';\r\n\r\n    try {\r\n      const resp = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      if (!resp.ok) {\r\n        const text = await resp.text();\r\n        setErro(text || 'Erro ao guardar casa.');\r\n        return;\r\n      }\r\n\r\n      setMensagem(isNovo ? 'Casa criada com sucesso.' : 'Casa editada com sucesso.');\r\n\r\n      // recarregar lista para garantir que temos os dados atualizados\r\n      await carregarCasas();\r\n\r\n      // obter id da casa para upload da imagem\r\n      let casaIdParaImagem = editingCasa.casaID;\r\n\r\n      if (isNovo) {\r\n        // tentativa simples: encontrar a casa pela combina√ß√£o t√≠tulo+morada e maior ID\r\n        const encontradas = casas.filter(c =>\r\n          (c.titulo || c.Titulo) === editingCasa.titulo &&\r\n          (c.morada || c.Morada) === editingCasa.morada\r\n        );\r\n\r\n        if (encontradas.length > 0) {\r\n          const ultima = encontradas.sort(\r\n            (a, b) => (b.casaID || b.CasaID) - (a.casaID || a.CasaID)\r\n          )[0];\r\n          casaIdParaImagem = ultima.casaID || ultima.CasaID;\r\n        }\r\n      }\r\n\r\n      // se tiver ficheiro e tivermos id da casa, tentar upload\r\n      if (imagemFile && casaIdParaImagem) {\r\n        try {\r\n          const formData = new FormData();\r\n          formData.append('file', imagemFile);\r\n\r\n          // ajusta o endpoint se o teu controller estiver noutro route\r\n          const respImg = await fetch(\r\n            `http://localhost:5211/api/Casa_Img/upload/${casaIdParaImagem}`,\r\n            {\r\n              method: 'POST',\r\n              headers: {\r\n                'Authorization': `Bearer ${token}`\r\n              },\r\n              body: formData\r\n            }\r\n          );\r\n\r\n          if (!respImg.ok) {\r\n            const textImg = await respImg.text();\r\n            setImagemErro(textImg || 'Casa guardada, mas falhou o upload da imagem.');\r\n          } else {\r\n            setMensagem(prev =>\r\n              prev ? prev + ' Imagem enviada com sucesso.' : 'Imagem enviada com sucesso.'\r\n            );\r\n          }\r\n        } catch (e) {\r\n          console.error(e);\r\n          setImagemErro('Casa guardada, mas houve erro de conex√£o ao enviar a imagem.');\r\n        }\r\n      }\r\n\r\n      fecharFormModal();\r\n      await carregarCasas();\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErro('Erro de conex√£o.');\r\n    }\r\n  };\r\n\r\n  // --------- APAGAR ---------\r\n\r\n  const abrirDeleteCasa = (id) => {\r\n    setDeleteId(id);\r\n    setErro('');\r\n    setMensagem('');\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const fecharDeleteModal = () => {\r\n    setShowDeleteModal(false);\r\n    setDeleteId(null);\r\n  };\r\n\r\n  const confirmarApagarCasa = async () => {\r\n    if (!deleteId) return;\r\n\r\n    setErro('');\r\n    setMensagem('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const resp = await fetch(`http://localhost:5211/api/Casas/DeleteCasa/${deleteId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      const text = await resp.text();\r\n      if (resp.ok) {\r\n        setMensagem(text || 'Casa apagada com sucesso.');\r\n        fecharDeleteModal();\r\n        await carregarCasas();\r\n      } else {\r\n        setErro(text || 'Erro ao apagar casa.');\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n      setErro('Erro de conex√£o.');\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={styles.container}>\r\n        <main className={styles.main}>\r\n          <p>A carregar casas...</p>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <header className={styles.header}>\r\n        <div className={styles.headerContent}>\r\n          <div className={styles.logo} onClick={() => navigate('/')} style={{ cursor: 'pointer' }}>\r\n            <div className={styles.logoIcon}>üèïÔ∏è</div>\r\n            <div className={styles.logoText}>Turismo Rural</div>\r\n          </div>\r\n          <button className={styles.logoutButton} onClick={handleLogout}>\r\n            Sair\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <main className={styles.main}>\r\n        <h1 className={styles.title}>Gest√£o de casas</h1>\r\n\r\n        {mensagem && <div className={styles.messageSuccess}>{mensagem}</div>}\r\n        {erro && <div className={styles.error}>{erro}</div>}\r\n\r\n        <div className={styles.buttonContainer} style={{ marginBottom: '1rem' }}>\r\n          <button\r\n            type=\"button\"\r\n            className={`${styles.button} ${styles.buttonPrimary}`}\r\n            onClick={abrirNovaCasa}\r\n          >\r\n            Nova casa\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className={`${styles.button} ${styles.buttonSecondary}`}\r\n            onClick={goBack}\r\n          >\r\n            Voltar √†s casas\r\n          </button>\r\n        </div>\r\n\r\n        {/* Lista de casas */}\r\n        <div className={styles.grid}>\r\n          {casas.map((c) => {\r\n            const id = c.casaID || c.CasaID;\r\n            return (\r\n              <div key={id} className={styles.card}>\r\n                <h2 className={styles.cardTitle}>{c.titulo || c.Titulo}</h2>\r\n                <p className={styles.cardAddress}>{c.morada || c.Morada}</p>\r\n                <p className={styles.cardDesc}>\r\n                  {c.tipo || c.Tipo} {c.tipologia || c.Tipologia} - {c.preco || c.Preco} ‚Ç¨\r\n                </p>\r\n                <div className={styles.buttonContainer}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={`${styles.button} ${styles.buttonSecondary}`}\r\n                    onClick={() => abrirEditarCasa(c)}\r\n                  >\r\n                    Editar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={`${styles.button} ${styles.buttonSecondary}`}\r\n                    onClick={() => abrirDeleteCasa(id)}\r\n                  >\r\n                    Apagar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </main>\r\n\r\n      {/* Modal criar/editar casa */}\r\n      {showFormModal && editingCasa && (\r\n        <div className={styles.modalOverlay}>\r\n          <div className={styles.modal}>\r\n            <h2 className={styles.modalTitle}>\r\n              {editingCasa.casaID ? 'Editar casa' : 'Nova casa'}\r\n            </h2>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>T√≠tulo</label>\r\n              <input\r\n                type=\"text\"\r\n                value={editingCasa.titulo}\r\n                onChange={(e) => onChangeCampo('titulo', e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>Descri√ß√£o</label>\r\n              <textarea\r\n                rows=\"3\"\r\n                value={editingCasa.descricao}\r\n                onChange={(e) => onChangeCampo('descricao', e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>Tipo</label>\r\n              <select\r\n                value={editingCasa.tipo}\r\n                onChange={(e) => onChangeCampo('tipo', e.target.value)}\r\n              >\r\n                <option value=\"Moradia\">Moradia</option>\r\n                <option value=\"Apartamento\">Apartamento</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>Tipologia</label>\r\n              <select\r\n                value={editingCasa.tipologia}\r\n                onChange={(e) => onChangeCampo('tipologia', e.target.value)}\r\n              >\r\n                <option value=\"T1\">T1</option>\r\n                <option value=\"T2\">T2</option>\r\n                <option value=\"T3\">T3</option>\r\n                <option value=\"T4\">T4</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>Pre√ßo por noite (‚Ç¨)</label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                value={editingCasa.preco}\r\n                onChange={(e) => onChangeCampo('preco', e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>Morada</label>\r\n              <input\r\n                type=\"text\"\r\n                value={editingCasa.morada}\r\n                onChange={(e) => onChangeCampo('morada', e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>C√≥digo Postal</label>\r\n              <input\r\n                type=\"text\"\r\n                value={editingCasa.codigoPostal}\r\n                onChange={(e) => onChangeCampo('codigoPostal', e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className={styles.reservaField}>\r\n              <label>Imagem (opcional)</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => setImagemFile(e.target.files[0] || null)}\r\n              />\r\n            </div>\r\n\r\n            {imagemErro && (\r\n              <div className={styles.error} style={{ marginTop: '0.5rem' }}>\r\n                {imagemErro}\r\n              </div>\r\n            )}\r\n\r\n            <div className={styles.buttonContainer} style={{ marginTop: '1rem' }}>\r\n              <button\r\n                type=\"button\"\r\n                className={`${styles.button} ${styles.buttonPrimary}`}\r\n                onClick={guardarCasa}\r\n              >\r\n                Guardar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className={`${styles.button} ${styles.buttonSecondary}`}\r\n                onClick={fecharFormModal}\r\n              >\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal apagar casa */}\r\n      {showDeleteModal && (\r\n        <div className={styles.modalOverlay}>\r\n          <div className={styles.modal}>\r\n            <h2 className={styles.modalTitle}>Apagar casa</h2>\r\n            <p>Tem a certeza que pretende apagar esta casa?</p>\r\n            <div className={styles.buttonContainer} style={{ marginTop: '1rem' }}>\r\n              <button\r\n                type=\"button\"\r\n                className={`${styles.button} ${styles.buttonPrimary}`}\r\n                onClick={confirmarApagarCasa}\r\n              >\r\n                Confirmar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className={`${styles.button} ${styles.buttonSecondary}`}\r\n                onClick={fecharDeleteModal}\r\n              >\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <footer className={styles.footer}>\r\n        <div className={styles.footerContent}>\r\n          <p className={styles.footerText}>\r\n            ¬© 2025 Turismo Rural. Descubra Portugal aut√™ntico.\r\n          </p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CasasAdmin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}